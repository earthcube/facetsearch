prefix schema: <https://schema.org/>
   PREFIX schemaold: <http://schema.org/>
   select DISTINCT ?dataname ?appname   ?durl  ?turl ?rrs  ?altName ?description
   WHERE
   {
       graph <${g}> {
       ?s schemaold:distribution|sdos:distribution ?dist ;
            schemaold:name|schema:name ?dataname  .
       ?dist  schemaold:encodingFormat|schema:encodingFormat ?type .
             OPTIONAL {?dist sdos:contentUrl ?durl }.
     }
     BIND (str(?type) as ?label)
    SERVICE <http://132.249.238.169:8080/fuseki/ecrr/query> {
      GRAPH <http://earthcube.org/gleaner-summoned>

            {

              ?rrs a schema:SoftwareApplication ;
                   schema:name ?appname ;
                   schema:supportingData ?df;
                  schema:description ?description .
            ?df schema:encodingFormat ?label ;
                   schema:position "input".
              ?rrs schema:potentialAction ?act.
              ?act schema:target ?tar.
              ?tar a schema:EntryPoint ;
               schema:urlTemplate ?turl.
              filter contains(?turl,"{contentURL}")
              OPTIONAL{ ?rrs schema:alternateName ?altName }
       }
    }
   }
